# 복구할 수 있는 상황에는 검사 예외를, 프로그래밍 오류에는 런타임 예외를 사용하라

## 예외 종류

- 검사 예외 (Checked Exception)
  - 검사 예외 (Exception)
- 비검사 예외 (Unchecked Exception)
  - 런타임 예외 (Runtime Exception)
  - 에러 (Error)

## 호출하는 쪽에서 복구하리라 여겨지는 상황이라면 검사 예외를 사용하라

검사와 비검사 예외를 구분하는 기본 규칙이다. <br/>
검사 예외를 던지면 호출자가 그 예외를 catch로 잡아 처리하거나 더 바깥으로 전파하도록 강제하게 된다.<br/>
메서드 선언에 포함된 검사 예외 각각은 그 메서드를 호출했을 때 발생할 수 있는 유력한 결과임을 API 사용자에게 알려준다.

즉, API 설계자는 API 사용자에게 검사 예외를 던져주어 그 상황에서 회복해내라고 요구한 것이다.<br/>
여기서, 예외를 잡기만 하고 별다른 조치를 취하지 않을 수도 있지만, 이는 보통 좋지 않은 생각이다.

비검사 예외의 경우 프로그램에서 잡을 필요가 없거나 통상적으로 잡지 말아야한다. 프로그램에서 비검사 예외나 에러를 던졌다는 것은 복구가 불가능하거나 더 실행해봐야 득보다는 실이 많다는 뜻이다.

## 프로그래밍 오류를 나타낼 때는 런타임 예외를 사용하자

런타임 예외의 대부분은 전제조건을 만족하지 못했을 때 발생한다. 전제조건 위배란 단순히 클라이언트가 해당 API의 명세에 기록된 제약을 지키지 못했다는 뜻이다.
> ArrayIndexOutOfBoundsException 의 경우 배열의 인덱스는 0 에서 `배열크기 - 1` 사이여야하는 명세 제약을 지키지 않아 발생하는 RuntimeException 이다.

만약, 복구가 가능한 상황인지 아닌지 판단하기 어려울 경우 비검사 예외 (Runtime Exception) 을 선택하는 것이 좋다.

## 개발자가 구현하는 비검사 예외는 모두 RuntimeException 하위클래스여야한다

비검사 예외는 2가지가 있다. 런타임 예외와 에러가 있는데 개발자가 발생시키는 비검사 예외의 경우 Error 가 아닌 RuntimeException 을 사용해야한다. <br/>
에러 (Error) 는 보통 JVM이 자원부족, 불변식 깨짐 등 더 이상 수행을 계속할 수 없는 상황을 나타낼 때 사용한다. <br/>
자바 언어 명세가 요구하는 것은 아니지만 업계에 널리 퍼진 규약이니 에러 (Error) 대신 Runtime Exception 을 이용하자

## 예외를 상속하는 경우 Throwable 을 상속하는 것은 절대 하지마라

예외(Checked Exception, Unchecked Exception)은 모두 Throwable 을 상속하고 있다. 그렇기 때문에 커스텀 예외를 만들 때 Throwable 을 상속하면 검사예외로 판단한다. <br/>
하지만, Throwable 을 상속해서 커스텀예외를 만드는 것은 절대 하지말아야한다. 이점이 하나도 없다.

## 검사 예외를 사용하는 경우 복구에 필요한 정보를 알려주는 메서드도 제공하라

검사 예외는 일반적으로 복구할 수 있는 조건일 때 발생한다. 따라서 호출자가 예외 상횡에서 벗어나는 데 필요한 정보를 알려주는 메서드를 함께 제공하는 것이 중요하다.

<hr/>

### 고민 포인트

복구가 필요할 수 있는 조건일 때는 검사예외를 추천한다. 그렇지만 검사예외를 사용하게 되면 try catch 혹은 throws 를 이용해 Exception 을 handling 하기위한 코드들이 추가하게 된다. <br/>
직관적으로 어떤 예외들을 핸들링이 필요한지 명시적으로 알려주기는 하지만, 불필요한 코드가 생기는 trade off 영역이 생기는 것 같아 고민.

71 Item의 경우 필요없는 검사 예외 사용을 피하라는 내용으로 고민 포인트에 대한 내용을 다루고 다시 한번 이야기하는 것도 좋아보인다.
또한 프로그래밍은 정답이 없기 때문에, 상황에 따라 최적은 선택을 하는 것이 가장 좋다는 생각도 든다.
